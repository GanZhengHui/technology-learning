# 渡一课程

## 事件循环

### 浏览器的进程模型

#### 1.何为进程

程序运行需要有它自己的内存空间，可以把这块内存空间简单理解为进程

每个应用至少有一个进程(即应用要有自己的内存空间吧)，进程之间相互独立，即使要通信，也需要双方同意

#### 2. 何为线程

有了进程之后，就可以运行代码

运行的代码的‘人’，就叫线程。

每个进程至少有一个线程（不能占着内存空间不做事对吧），所以程序运行时会自动地创建一个线程来运行代码，该线程就叫主线程

如果程序需要执行多个代码块，主线程则会启动更多地线程来执行代码，所以一个进程中可以包含多个线程

#### 3.浏览器有哪些进程和线程

浏览器是个多进程多线程地应用程序

为了避免相互影响，为了减少连环奔溃地几率，当启动浏览器后，它会自动地启动多个进程

1. **浏览器进程**

   主要负责界面地显示、用户交互、子进程管理。浏览器进程内部会启动多个线程处理不同的任务

2. **网络进程**

   负责加载网络资源，网络进程内部会启动多个线程处理不同的网络任务

3. **渲染进程（重点）**

   渲染进程启动后，会开启一个渲染主线程，主线程负责执行HTML、CSS、JS代码

   默认情况下，浏览器会为每个标签页开启一个新的渲染进程，以保证不同的标签页之间不相互影响

#### 4.渲染进程时如何工作的

渲染主线程时浏览器最繁忙的线程，需要它处理的任务包括但不限于：

1. 解析HTML

2. 解析CSS

3. 计算样式

4. 布局

5. 处理图层

6. 每秒把页面画60次

7. 执行全局JS代码

8. 执行事件处理函数

9. 执行计时器的回调函数

   ……



